
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
        Send Messages
     </button>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="row">
          <div class="col-md-4">
            <h4 class="modal-title" id="myModalLabel">SMS MESSAGE</h4>
          </div>
          <div class="col-md-7">

          </div>
          <div class="col-md-1">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

          </div>
        </div>


      </div>
      <div class="modal-body">

        <div class="panel panel-default">
          <div class="panel-body">
            <textarea placeholder="'Jambo ' + name + '\n' + msg +' una deni ya KSH' + deni + ' tafadhali lipa. Malipo ni kwa Mpesa till number: 784289 (Buy goods & services)'"
              [(ngModel)]="SMStext" class="form-control" rows="3"></textarea>
          </div>
          <!--
             <table *ngFor="let u of SMS1">
                 <tr >
                   <td> {{u.recipients[0].number}} </td>
                </tr>
             </table>
             -->
        </div>
      </div>
      <div class="modal-footer">
        <div class="row">
          <div class="col-md-3">
            <button type="submit" class="btn btn-warning" (click)="exporttoexcel()">export to excel</button>
          </div>
          <div class="col-md-3">
            <input class="form-control" [(ngModel)]="filterQuery" placeholder="Search" />
          </div>
          <div class="col-md-3">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          </div>
          <div class="col-md-3">
            <button type="button" class="btn btn-primary" (click)="sendSMS()">Send</button>
          </div>
        </div>
      </div>

      <div class="table table-responsive">
        <table class="table table-striped" [mfData]="data | generalFilter : filterQuery" #mf="mfDataTable" [mfRowsOnPage]="rowsOnPage"
          [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
          <thead>
            <tr>
              <th style="width: auto">
                Index
              </th>
              <th style="width: auto">
                Customer
              </th>
              <th style="width: auto">
                Message
              </th>
              <th style="width: auto">
                Date
              </th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let item of mf.data; let i = index">
              <tr>
                <td>{{i+1}}</td>
                <td>{{item.Name}}</td>
                <td>{{item.Message}}</td>
                <td>{{item.Date}}</td>
              </tr>
            </ng-container>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="12">
                <mfBootstrapPaginator [rowsOnPageSet]="[100,500]"></mfBootstrapPaginator>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>

    </div>
  </div>
</div>
